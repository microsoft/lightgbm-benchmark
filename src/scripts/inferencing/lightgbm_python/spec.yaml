$schema: https://azuremlschemas.azureedge.net/latest/commandComponent.schema.json
name: lightgbm_python_score
version: 1.0.3
display_name: "LightGBM Inferencing (Python API)"
type: command
description: "LightGBM inferencing using the Python API."
is_deterministic: true

tags:
  repo: https://github.com/microsoft/lightgbm-benchmark
  docs: https://microsoft.github.io/lightgbm-benchmark
  framework: lightgbm
  framework_version: "3.3.0"

inputs:
  data:
    type: path
    description: directory to the inference data
    optional: false
  model:
    type: path
    description: directory to the model
    optional: false
  predict_disable_shape_check:
    type: boolean
    description: "control whether or not LightGBM raises an error when you try to predict on data with a different number of features than the training data"
    default: False
  n_threads:
    type: integer
    optional: true
  verbose:
    type: boolean
    default: False
  custom_properties:
    type: string
    description: additional custom tags for the job
    optional: true

outputs:
  predictions:
    type: path

command: >-
  python score.py
  --data ${{inputs.data}}
  --model ${{inputs.model}}
  --output ${{outputs.predictions}}
  [--num_threads ${{inputs.n_threads}}]
  --predict_disable_shape_check ${{inputs.predict_disable_shape_check}}
  --verbose ${{inputs.verbose}}
  [--custom_properties ${{inputs.custom_properties}}]

environment:
  name: lightgbm_python_330_default
  build:
    dockerfile_path: ./default.dockerfile
  os_type: linux
