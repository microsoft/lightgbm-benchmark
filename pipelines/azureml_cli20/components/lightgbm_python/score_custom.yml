type: command_component

name: lightgbm_python_score_custom
display_name: "LightGBM Inferencing (custom build)"
version: 1

inputs:
  data:
    type: path
    description: "Inference data (compatible with LightGBM model)"
  model:
    type: path
    description: "LightGBM model exported from training (.txt)"
outputs:
  predictions:
    type: path
    description: "Predictions from LightGBM model"

code:
  local_path: ../../../../src/

environment:
  conda_file: file:../../../../src/scripts/lightgbm_python/conda.yml
  docker: 
    image: mcr.microsoft.com/azureml/openmpi3.1.2-ubuntu18.04:20210615.v1

command: >-
  python scripts/lightgbm_python/score.py
    --data ${{inputs.data}}
    --model ${{inputs.model}}
    --output ${{outputs.predictions}}
